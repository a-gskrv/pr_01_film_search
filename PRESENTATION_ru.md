# Презентация проекта: Film Search Service

## 1. Цель проекта и требования

Цель проекта — реализовать сервис поиска фильмов по базе данных **MySQL (Sakila)** с сохранением поисковых запросов в **MongoDB**.

Согласно техническому заданию были реализованы:
- поиск фильмов по ключевому слову;
- поиск по жанру и диапазону годов выпуска;
- постраничный вывод результатов (по 10 записей);
- сохранение всех поисковых запросов в MongoDB;
- отображение статистики запросов:
  - топ-5 самых популярных;
  - 5 последних уникальных запросов.

В проекте использовались технологии:
- Python
- MySQL
- MongoDB
- Fast API

---

## 2. Архитектурное решение

Проект построен по слоистой архитектуре:

```text
app/
├── core/
│   ├── repositories/   # Доступ к данным (MySQL, MongoDB)
│   ├── exceptions.py   # Пользовательские исключения для MySQL и MongoDB
│   ├── services.py     # Бизнес-логика приложения
│   └── db/             # Подключения и конфигурация БД
│
├── interfaces/
│   ├── cli/            # CLI интерфейс
│   ├── fastapi/        # Web интерфейс (FastAPI)
│   │
│   └── main.py         # Точка входа и выбор интерфейса
│
└── tests/              # Тесты (планируются)
```

- Разделение проекта на слои
- Ядро как единый источник бизнес-логики
- Независимость ядра от пользовательских интерфейсов
___
Доступ к данным вынесен в отдельный слой repositories, а бизнес-логика сосредоточена в сервисах, что позволяет использовать одно и то же ядро с разными интерфейсами. Бизнес-логика не знает, как именно получаются данные — она работает только с методами репозитория.Если завтра MySQL заменить на другой источник данных, изменения затронут только репозитории, а сервисы и интерфейсы останутся прежними.

---

## 3. Реализация поиска, пагинации и логирования

- Вся логика поиска фильмов сосредоточена в сервисном слое приложения.
- Каждый вариант поиска реализован отдельным методом одного сервисного класса:
  - поиск по ключевому слову;
  - поиск по жанру;
  - поиск по жанру и диапазону годов.
- Интерфейсы передают в сервис только входные параметры:
  - параметры поиска;
  - номер страницы (`page`);
  - размер страницы (`page_size`).
- Сервис возвращает результат в **едином формате**, включающем:
  - список элементов (`items`);
  - общее количество записей (`total`);
  - текущую страницу (`page`);
  - размер страницы (`page_size`);
  - общее количество страниц (`pages`).
- Логирование поисковых запросов выполняется **на уровне сервиса** и не зависит от пользовательского интерфейса.
- На основе логов формируются отчёты:
  - список самых популярных запросов;
  - список последних уникальных запросов.
- Такой подход позволяет:
  - использовать одно и то же ядро с разными интерфейсами;
  - реализовывать различные варианты пагинации;
  - расширять функциональность без изменения UI-кода.
___
Вся логика поиска фильмов сосредоточена в сервисном слое: каждый вариант поиска реализован отдельным методом одного сервиса. Интерфейсы передают параметры поиска и пагинации, а сервис возвращает результат в едином формате с данными и мета-информацией о страницах. Логирование поисковых запросов и формирование отчётов также выполняются на уровне сервиса, поэтому интерфейсы остаются максимально простыми и не содержат бизнес-логики.

---

## 4. Эмуляция рабочего процесса
- Работа с GitHub issues
- Feature-ветки и pull request’ы  (упрощенный вариант, без конфликтов изменений)
- Эмуляция ролей (Project Manager / Backend / Frontend)

---

## 5. Сложности и принятые решения
- Сложности: 
  - Стремление реализовать универсальное ядро 
  - Отсутствие опыта работы с FastAPI

На момент начала разработки опыта работы с FastAPI не было, поэтому web-интерфейс рассматривался в первую очередь как эксперимент, не весь задуманный функционал получилось реализовать.

Для демонстрации проекта был осознанно выбран терминальный интерфейс как наиболее стабильный и контролируемый вариант.

Реализация FastAPI-интерфейса использовалась как подтверждение независимости ядра от способа взаимодействия с пользователем.


---

## 6. Демонстрация работы
- Поиск по ключевому слову
- Пагинация результатов
- Поиск по жанру и диапазону годов
- Изменение статистики запросов

---

## 7. Итоги

- Реализованы сценарии поиска, пагинация, логирование запросов и вывод статистики по логам.
- Архитектура проекта допускает дальнейшее расширение и развитие (новые интерфейсы, тесты).

